{"version":3,"sources":["redux/actions/user.js","redux/type.js","components/register.js","components/login.js","components/header.js","components/paymentDialog.js","components/home.js","redux/actions/video.js","components/postVideo.js","components/videoDetail.js","app.js","redux/reducer/user.js","redux/reducer/video.js","redux/store.js","index.js"],"names":["registerUser","user","dispatch","a","console","log","axios","method","url","data","type","payload","error","info","response","loginUser","email","password","isAuthenticated","useStyles","makeStyles","theme","root","height","image","backgroundImage","backgroundRepeat","backgroundColor","palette","grey","backgroundSize","backgroundPosition","paper","margin","spacing","display","flexDirection","alignItems","avatar","secondary","main","form","width","marginTop","submit","Register","props","classes","useSelector","state","userState","useDispatch","useState","Name","isSubmitting","setState","handleChange","key","value","handleSubmit","e","preventDefault","history","push","Grid","container","component","className","CssBaseline","item","xs","sm","md","Paper","elevation","square","Typography","variant","onSubmit","noValidate","TextField","required","fullWidth","id","label","name","autoComplete","autoFocus","onChange","target","Button","color","disabled","Link","href","Login","useHistory","videoDetails","logoutUser","logout","AppBar","position","style","flexGrow","Toolbar","IconButton","edge","marginRight","aria-label","onClick","this","Component","connect","withRouter","PaymentDialog","open","setOpen","succeeded","setSucceeded","setError","processing","setProcessing","setDisabled","clientSecret","setClientSecret","stripe","useStripe","elements","useElements","useEffect","window","fetch","headers","body","JSON","stringify","amount","then","res","json","event","empty","message","ev","confirmCardPayment","payment_method","card","getElement","CardElement","close","Dialog","maxWidth","onClose","aria-labelledby","title","dividers","options","base","fontFamily","fontSmoothing","fontSize","invalid","iconColor","role","promise","loadStripe","Home","openDialog","selectedVideo","closeDialog","success","addVideoInUsersVideo","_id","showViewOrBuyButton","myVideos","includes","size","allVideo","Fragment","Container","paddingTop","paddingBottom","videoState","posts","map","Card","controls","src","videoUrl","CardContent","gutterBottom","description","CardActions","justifyContent","videoReducer","videoId","videoPost","direction","justify","postReducer","post","videoDetail","currentVideo","match","params","Video","textAlign","currentPost","App","path","exact","postVideo","initalstate","localStorage","getItem","parse","users","userReducer","action","newState","Object","assign","setItem","removeItem","rootReducer","combineReducers","store","createStore","applyMiddleware","thunk","ReactDom","render","document","getElementById"],"mappings":"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","file":"static/js/main.1eca549b.chunk.js","sourcesContent":["import { REGISTER, LOGIN, LOGOUT, BUYVIDEO } from '../type';\r\nimport axios from 'axios';\r\n\r\nexport const registerUser = (user) => async dispatch => {\r\n    console.log(user)\r\n    try {\r\n        const { data } = await axios({\r\n            method: \"post\",\r\n            url: '/users/register',\r\n            data: user,\r\n        }\r\n        );\r\n        // console.log(user, \"1234\")\r\n        dispatch({\r\n            type: REGISTER,\r\n            payload: {\r\n                error: null,\r\n                info: data\r\n            }\r\n        })\r\n\r\n    } catch (error) {\r\n        //console.log(error.response.data)\r\n        dispatch({\r\n            type: REGISTER,\r\n            payload: {\r\n                error: error.response.data.error,\r\n                info: null\r\n            }\r\n        })\r\n\r\n    }\r\n}\r\n\r\nexport const loginUser = (user) => async dispatch => {\r\n    try {\r\n        const { data } = await axios({\r\n            method: \"post\",\r\n            url: `/users/login`,\r\n            data: {\r\n                email: user.email,\r\n                password: user.password\r\n            }\r\n        });\r\n        //console.log(data, \"dfhkgj \")\r\n        dispatch({\r\n            type: LOGIN,\r\n            payload: { error: null, user: data, isAuthenticated: true }\r\n        })\r\n    } catch (error) {\r\n        console.log(error.response.data)\r\n        dispatch({\r\n            type: LOGIN,\r\n            payload: {\r\n                error: error.response.data.error,\r\n                info: null,\r\n                isAuthenticated: false,\r\n                user: null\r\n            }\r\n        })\r\n\r\n    }\r\n}\r\n\r\n\r\nexport const logout = () => async dispatch => {\r\n    try {\r\n        await axios({\r\n            method: \"delete\",\r\n            url: `/users/logout`\r\n        });\r\n        dispatch({\r\n            type: LOGOUT,\r\n            payload: null\r\n        })\r\n    } catch (error) {\r\n        console.log(error)\r\n\r\n    }\r\n}\r\n\r\n\r\nexport const addVideoInUsersVideo = (videoId) => async dispatch => {\r\n    try {\r\n        await axios({\r\n            method: \"put\",\r\n            url: `/users`,\r\n            data: { videoId }\r\n        });\r\n        dispatch({\r\n            type: BUYVIDEO,\r\n            payload: { videoId }\r\n        })\r\n    } catch (error) {\r\n        console.log(error)\r\n        dispatch({\r\n            type: BUYVIDEO,\r\n            payload: {\r\n                error: error.response.data.error,\r\n                videoId: null\r\n            }\r\n        })\r\n    }\r\n}","export const REGISTER = \"REGISTER\";\r\nexport const LOGIN = \"LOGIN\";\r\nexport const LOGOUT = \"LOGOUT\";\r\nexport const VIDEOCREATE = \"VIDEOCREATE\";\r\nexport const VIDEOPLAYER = \"VIDEOPLAYER\";\r\nexport const ALLVIDEO = \"ALLVIDEO\";\r\nexport const BUYVIDEO=\"BUYVIDEO\";","import React, { useState } from 'react';\r\nimport Button from '@material-ui/core/Button';\r\nimport CssBaseline from '@material-ui/core/CssBaseline';\r\nimport TextField from '@material-ui/core/TextField';\r\nimport Link from '@material-ui/core/Link';\r\nimport Paper from '@material-ui/core/Paper';\r\nimport Grid from '@material-ui/core/Grid';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { registerUser } from '../redux/actions/user';\r\nconst useStyles = makeStyles((theme) => ({\r\n    root: {\r\n        height: '100vh',\r\n    },\r\n    image: {\r\n        backgroundImage: 'url(https://source.unsplash.com/random)',\r\n        backgroundRepeat: 'no-repeat',\r\n        backgroundColor:\r\n            theme.palette.type === 'light' ? theme.palette.grey[50] : theme.palette.grey[900],\r\n        backgroundSize: 'cover',\r\n        backgroundPosition: 'center',\r\n    },\r\n    paper: {\r\n        margin: theme.spacing(8, 4),\r\n        display: 'flex',\r\n        flexDirection: 'column',\r\n        alignItems: 'center',\r\n    },\r\n    avatar: {\r\n        margin: theme.spacing(1),\r\n        backgroundColor: theme.palette.secondary.main,\r\n    },\r\n    form: {\r\n        width: '100%', // Fix IE 11 issue.\r\n        marginTop: theme.spacing(1),\r\n    },\r\n    submit: {\r\n        margin: theme.spacing(3, 0, 2),\r\n    },\r\n}));\r\n\r\nexport default function Register(props) {\r\n    const classes = useStyles();\r\n    const user = useSelector(state => state.userState);\r\n    const dispatch = useDispatch();\r\n    const [state, setState] = useState({\r\n        Name: \"\",\r\n        email: \"\",\r\n        password: \"\",\r\n        isSubmitting: false,\r\n        error: ''\r\n    });\r\n\r\n    const handleChange = (key, value) => {\r\n        setState({\r\n            ...state,\r\n            [key]: value\r\n        });\r\n    }\r\n    const handleSubmit = async (e) => {\r\n        e.preventDefault();\r\n        setState({ ...state, isSubmitting: true });\r\n        await dispatch(registerUser(state));\r\n        setState({ ...state, isSubmitting: false });\r\n        console.log(user.error)\r\n        if (!user.error) {\r\n            props.history.push('/login');\r\n        }\r\n    }\r\n    return (\r\n        <Grid container component=\"main\" className={classes.root}>\r\n            <CssBaseline />\r\n            <Grid item xs={false} sm={4} md={7} className={classes.image} />\r\n            <Grid item xs={12} sm={8} md={5} component={Paper} elevation={6} square>\r\n                <div className={classes.paper}>\r\n                    <Typography component=\"h1\" variant=\"h5\">\r\n                        Register\r\n          </Typography>\r\n                    <form onSubmit={handleSubmit} className={classes.form} noValidate>\r\n                        <TextField\r\n                            variant=\"outlined\"\r\n                            margin=\"normal\"\r\n                            required\r\n                            fullWidth\r\n                            id=\"Name\"\r\n                            label=\"Name\"\r\n                            name=\"Name\"\r\n                            autoComplete=\"Name\"\r\n                            autoFocus\r\n                            onChange={(e) => handleChange(\"Name\", e.target.value)}\r\n                        />\r\n                        <TextField\r\n                            variant=\"outlined\"\r\n                            margin=\"normal\"\r\n                            required\r\n                            fullWidth\r\n                            id=\"email\"\r\n                            label=\"Email Address\"\r\n                            name=\"email\"\r\n                            autoComplete=\"email\"\r\n                            onChange={(e) => handleChange(\"email\", e.target.value)}\r\n                        />\r\n                        <TextField\r\n                            variant=\"outlined\"\r\n                            margin=\"normal\"\r\n                            required\r\n                            fullWidth\r\n                            name=\"password\"\r\n                            label=\"Password\"\r\n                            type=\"password\"\r\n                            id=\"password\"\r\n                            autoComplete=\"current-password\"\r\n                            onChange={(e) => handleChange(\"password\", e.target.value)}\r\n                        />\r\n                        {user.error &&\r\n                            <Grid item xs={12} className=\"error\">\r\n                                <div className=\"error\">{user.error}</div>\r\n                            </Grid>\r\n                        }\r\n                        <Button\r\n                            type=\"submit\"\r\n                            fullWidth\r\n                            variant=\"contained\"\r\n                            color=\"primary\"\r\n                            className={classes.submit}\r\n                            disabled={state.isSubmitting}\r\n                        >\r\n                            Register\r\n            </Button>\r\n                        <Grid container>\r\n                            <Grid item>\r\n                                Already have an account?\r\n                                <Link href=\"/#/login\" variant=\"body2\">\r\n                                    {\"Login\"}\r\n                                </Link>\r\n                            </Grid>\r\n                        </Grid>\r\n                    </form>\r\n                </div>\r\n            </Grid>\r\n        </Grid>\r\n    );\r\n}","import React, { useState } from 'react';\r\nimport Button from '@material-ui/core/Button';\r\nimport CssBaseline from '@material-ui/core/CssBaseline';\r\nimport TextField from '@material-ui/core/TextField';\r\nimport Link from '@material-ui/core/Link';\r\nimport Paper from '@material-ui/core/Paper';\r\nimport Grid from '@material-ui/core/Grid';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport { loginUser } from '../redux/actions/user';\r\nimport { useHistory } from 'react-router-dom';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n    root: {\r\n        height: '100vh',\r\n    },\r\n    image: {\r\n        backgroundImage: 'url(https://source.unsplash.com/random)',\r\n        backgroundRepeat: 'no-repeat',\r\n        backgroundColor:\r\n            theme.palette.type === 'light' ? theme.palette.grey[50] : theme.palette.grey[900],\r\n        backgroundSize: 'cover',\r\n        backgroundPosition: 'center',\r\n    },\r\n    paper: {\r\n        margin: theme.spacing(8, 4),\r\n        display: 'flex',\r\n        flexDirection: 'column',\r\n        alignItems: 'center',\r\n    },\r\n    avatar: {\r\n        margin: theme.spacing(1),\r\n        backgroundColor: theme.palette.secondary.main,\r\n    },\r\n    form: {\r\n        width: '100%', // Fix IE 11 issue.\r\n        marginTop: theme.spacing(1),\r\n    },\r\n    submit: {\r\n        margin: theme.spacing(3, 0, 2),\r\n    },\r\n}));\r\n\r\nexport default function Login() {\r\n    const classes = useStyles();\r\n    const user = useSelector(state => state.userState);\r\n    const history = useHistory();\r\n    const dispatch = useDispatch();\r\n    const [state, setState] = useState({\r\n        email: \"\",\r\n        password: \"\",\r\n        isSubmitting: false\r\n    });\r\n\r\n    const handleChange = (key, value) => {\r\n        setState({\r\n            ...state,\r\n            [key]: value\r\n        });\r\n    }\r\n    const handleSubmit = async (e) => {\r\n        e.preventDefault();\r\n        setState({ ...state, isSubmitting: true });\r\n        await dispatch(loginUser(state));\r\n        setState({ ...state, isSubmitting: false });\r\n        //console.log(user.error);\r\n        if (!user.error) {\r\n            history.push('/');\r\n        }\r\n    }\r\n    return (\r\n        <Grid container component=\"main\" className={classes.root}>\r\n            <CssBaseline />\r\n            <Grid item xs={false} sm={4} md={7} className={classes.image} />\r\n            <Grid item xs={12} sm={8} md={5} component={Paper} elevation={6} square>\r\n                <div className={classes.paper}>\r\n                    <Typography component=\"h1\" variant=\"h5\">\r\n                        Sign in\r\n          </Typography>\r\n                    <form className={classes.form} noValidate onSubmit={handleSubmit}>\r\n                        <TextField\r\n                            variant=\"outlined\"\r\n                            margin=\"normal\"\r\n                            required\r\n                            fullWidth\r\n                            id=\"email\"\r\n                            label=\"Email Address\"\r\n                            name=\"email\"\r\n                            autoComplete=\"email\"\r\n                            autoFocus\r\n                            value={state.email}\r\n                            onChange={(e) => handleChange(\"email\", e.target.value)}\r\n                        />\r\n                        <TextField\r\n                            variant=\"outlined\"\r\n                            margin=\"normal\"\r\n                            required\r\n                            fullWidth\r\n                            name=\"password\"\r\n                            label=\"Password\"\r\n                            type=\"password\"\r\n                            id=\"password\"\r\n                            autoComplete=\"current-password\"\r\n                            value={state.password}\r\n                            onChange={(e) => handleChange(\"password\", e.target.value)}\r\n                        />\r\n                        {user.error &&\r\n                            <Grid item xs={12} className=\"error\">\r\n                                <div className=\"error\">{user.error}</div>\r\n                            </Grid>\r\n                        }\r\n                        <Button\r\n                            type=\"submit\"\r\n                            fullWidth\r\n                            variant=\"contained\"\r\n                            color=\"primary\"\r\n                            className={classes.submit}\r\n                            disabled={state.isSubmitting}\r\n                        >\r\n                            Login\r\n            </Button>\r\n                        <Grid container>\r\n                            <Grid item>\r\n                                Don't have an account?\r\n                <Link href=\"/#/register\" variant=\"body2\">\r\n                                    {\"Register\"}\r\n                                </Link>\r\n                            </Grid>\r\n                        </Grid>\r\n                    </form>\r\n                </div>\r\n            </Grid>\r\n        </Grid>\r\n    );\r\n}","import React, { Component } from 'react';\r\nimport AppBar from '@material-ui/core/AppBar';\r\nimport Toolbar from '@material-ui/core/Toolbar';\r\nimport Button from '@material-ui/core/Button';\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport LocalLibraryIcon from '@material-ui/icons/LocalLibrary';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport { connect } from 'react-redux';\r\nimport { logout } from '../redux/actions/user';\r\nimport { withRouter } from 'react-router-dom';\r\nimport Link from '@material-ui/core/Link';\r\n\r\nclass videoDetails extends Component {\r\n    logoutUser = async () => {\r\n        await this.props.logout();\r\n        this.props.history.push(\"/login\");\r\n    }\r\n    render() {\r\n        return (\r\n            <div>\r\n                <AppBar position=\"static\" style={{ flexGrow: \"1\" }}>\r\n                    <Toolbar>\r\n                        <IconButton edge=\"start\" style={{ marginRight: \"2rem\" }} color=\"inherit\" aria-label=\"menu\">\r\n                            <Link href=\"/#/\" style={{ color: \"white\" }}>\r\n                                <LocalLibraryIcon />\r\n                            </Link>\r\n                        </IconButton>\r\n                        <Typography variant=\"h6\" style={{ flexGrow: \"1\" }}>\r\n                            Udemy\r\n          </Typography>\r\n                        <Link href=\"/#/post\" style={{ color: \"white\" }}>PostVideo</Link>\r\n                        <Button color=\"inherit\" onClick={this.logoutUser}>Logout</Button>\r\n\r\n                    </Toolbar>\r\n                </AppBar>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n    return {\r\n        user: state.userState\r\n    }\r\n}\r\nexport default connect(mapStateToProps, { logout })(withRouter(videoDetails));","import React, { useState, useEffect } from \"react\";\r\nimport Dialog from '@material-ui/core/Dialog';\r\nimport MuiDialogContent from '@material-ui/core/DialogContent';\r\nimport MuiDialogTitle from '@material-ui/core/DialogTitle';\r\n//import Typography from '@material-ui/core/Typography';\r\nimport {\r\n    CardElement,\r\n    useStripe,\r\n    useElements\r\n} from \"@stripe/react-stripe-js\";\r\nexport default function PaymentDialog(props) {\r\n    const [open, setOpen] = useState(false);\r\n    const [succeeded, setSucceeded] = useState(false);\r\n    const [error, setError] = useState(null);\r\n    const [processing, setProcessing] = useState('');\r\n    const [disabled, setDisabled] = useState(true);\r\n    const [clientSecret, setClientSecret] = useState('');\r\n    const stripe = useStripe();\r\n    const elements = useElements();\r\n    useEffect(() => {\r\n        if (props.open) {\r\n            setOpen(true);\r\n            window\r\n                .fetch(\"/payment\", {\r\n                    method: \"POST\",\r\n                    headers: {\r\n                        \"Content-Type\": \"application/json\"\r\n                    },\r\n                    body: JSON.stringify({ amount: 350 })\r\n                })\r\n                .then(res => {\r\n                    return res.json();\r\n                })\r\n                .then(data => {\r\n                    setClientSecret(data.clientSecret);\r\n                })\r\n        }\r\n    }, [props.open])\r\n    const cardStyle = {\r\n        style: {\r\n            base: {\r\n                color: \"#32325d\",\r\n                fontFamily: 'Arial, sans-serif',\r\n                fontSmoothing: \"antialiased\",\r\n                fontSize: \"16px\",\r\n                \"::placeholder\": {\r\n                    color: \"#32325d\"\r\n                }\r\n            },\r\n            invalid: {\r\n                color: \"#fa755a\",\r\n                iconColor: \"#fa755a\"\r\n            }\r\n        }\r\n    };\r\n    const handleClose = () => {\r\n        setOpen(false);\r\n        props.close();\r\n    };\r\n    const handleChange = async (event) => {\r\n        // Listen for changes in the CardElement\r\n        // and display any errors as the customer types their card details\r\n        setDisabled(event.empty);\r\n        setError(event.error ? event.error.message : \"\");\r\n    };\r\n    const handleSubmit = async ev => {\r\n        ev.preventDefault();\r\n        setProcessing(true);\r\n        const payload = await stripe.confirmCardPayment(clientSecret, {\r\n            payment_method: {\r\n                card: elements.getElement(CardElement)\r\n            }\r\n        });\r\n        if (payload.error) {\r\n            setError(`Payment failed ${payload.error.message}`);\r\n            setProcessing(false);\r\n        } else {\r\n            setError(null);\r\n            setProcessing(false);\r\n            setSucceeded(true);\r\n            setOpen(false);\r\n            props.close(true);\r\n        }\r\n    };\r\n    return (\r\n        <div>\r\n            <Dialog maxWidth=\"md\" onClose={handleClose} aria-labelledby=\"payment-dialog\" open={open}>\r\n                <MuiDialogTitle>Pay <b>Rs 350</b> for <b>{props.title}</b> </MuiDialogTitle>\r\n                <MuiDialogContent dividers style={{ margin: 30 }}>\r\n                    <form id=\"payment-form\" className=\"payment-form\" onSubmit={handleSubmit}>\r\n                        <CardElement id=\"card-element\" options={cardStyle} onChange={handleChange} />\r\n                        <button\r\n                            className=\"payment-button\"\r\n                            disabled={processing || disabled || succeeded}\r\n                            id=\"submit\"\r\n                        >\r\n                            <span id=\"button-text\">\r\n                                {processing ? (\r\n                                    <div className=\"spinner\" id=\"spinner\"></div>\r\n                                ) : (\r\n                                        \"Pay\"\r\n                                    )}\r\n                            </span>\r\n                        </button>\r\n                        {/* Show any error that happens when processing the payment */}\r\n                        {error && (\r\n                            <div className=\"card-error\" role=\"alert\">\r\n                                {error}\r\n                            </div>\r\n                        )}\r\n                        {/* Show a success message upon completion */}\r\n                        <p className={succeeded ? \"result-message\" : \"result-message hidden\"}>\r\n                            Payment succeeded\r\n                        </p>\r\n                    </form>\r\n                </MuiDialogContent>\r\n            </Dialog>\r\n        </div>\r\n    );\r\n}","import React, { Component } from 'react';\r\nimport Button from '@material-ui/core/Button';\r\nimport Card from '@material-ui/core/Card';\r\nimport CardActions from '@material-ui/core/CardActions';\r\nimport CardContent from '@material-ui/core/CardContent';\r\nimport CssBaseline from '@material-ui/core/CssBaseline';\r\nimport Grid from '@material-ui/core/Grid';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport Container from '@material-ui/core/Container';\r\nimport { connect } from 'react-redux';\r\nimport Header from './header';\r\nimport { allVideo } from '../redux/actions/video';\r\nimport { loadStripe } from \"@stripe/stripe-js\";\r\nimport { Elements } from \"@stripe/react-stripe-js\";\r\nimport PaymentDialog from './paymentDialog';\r\nimport { addVideoInUsersVideo } from '../redux/actions/user';\r\nconst promise = loadStripe(\"pk_test_51HSksKILMLU11Db4fvbJgBwvm7xYulVHvO3Mg4SquxQ1YHgI901VnOip66TJW4N6F74GOL20W3Vq3vVextqfGM4N00cUj6RdQ6\");\r\n\r\nclass Home extends Component {\r\n    state = {\r\n        openDialog: false,\r\n        selectedVideo: null,\r\n        isSubmitting: null\r\n    }\r\n    async componentDidMount() {\r\n        await this.props.allVideo();\r\n    }\r\n    closeDialog = async (success) => {\r\n        if (success) {\r\n            await this.props.addVideoInUsersVideo(this.state.selectedVideo._id);\r\n        }\r\n        await this.setState({ openDialog: false, selectedVideo: null });\r\n    }\r\n    showViewOrBuyButton = (card) => {\r\n        const user = this.props.userState.user\r\n        if (user && user.myVideos && user.myVideos.includes(card._id)) {\r\n            return <Button variant=\"outlined\" disabled={this.state.isSubmitting} size=\"small\" color=\"primary\" onClick={() => this.props.history.push('/post/' + card._id)}>\r\n                View\r\n        </Button>\r\n        } else {\r\n            return <Button size=\"small\" variant=\"contained\" color=\"primary\" onClick={() => this.setState({ openDialog: true, selectedVideo: card })}>\r\n                Buy now\r\n    </Button>\r\n        }\r\n    }\r\n    render() {\r\n        return (\r\n            <React.Fragment>\r\n                <CssBaseline />\r\n                <Header />\r\n                <main>\r\n                    <Container style={{ paddingTop: \"3rem\", paddingBottom: \"8rem\" }} maxWidth=\"md\">\r\n                        <Grid container spacing={4}>\r\n                            {this.props.videoState.posts && this.props.videoState.posts.map((card) => (\r\n                                <Grid item key={card._id} xs={12} sm={6} md={4}>\r\n                                    <Card style={{ height: \"100%\", display: \"flex\", flexDirection: \"column\" }}>\r\n                                        <video controls width=\"100%\" height=\"160\" src={card.videoUrl}>\r\n                                        </video>\r\n                                        <CardContent style={{ flexGrow: '1' }}>\r\n                                            <Typography gutterBottom variant=\"h5\" component=\"h2\">\r\n                                                {card.title}\r\n                                            </Typography>\r\n                                            <Typography>\r\n                                                {card.description}\r\n                                            </Typography>\r\n                                        </CardContent>\r\n                                        <CardActions style={{ justifyContent: \"space-around\" }}>\r\n                                            {this.showViewOrBuyButton(card)}\r\n\r\n                                        </CardActions>\r\n                                    </Card>\r\n                                </Grid>\r\n                            ))}\r\n                        </Grid>\r\n                    </Container>\r\n                </main>\r\n                {this.state.openDialog &&\r\n                    <Elements stripe={promise}>\r\n                        <PaymentDialog open={this.state.openDialog} close={this.closeDialog} title={this.state.selectedVideo.title} />\r\n                    </Elements>\r\n                }\r\n            </React.Fragment >\r\n        );\r\n    }\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n    return {\r\n        videoState: state.videoReducer,\r\n        userState: state.userState\r\n    }\r\n}\r\n\r\nexport default connect(mapStateToProps, { allVideo, addVideoInUsersVideo })(Home);","import { VIDEOCREATE, VIDEOPLAYER, ALLVIDEO } from '../type';\r\nimport axios from 'axios';\r\n\r\nexport const videoPost = (post) => async dispatch => {\r\n    //console.log(post);\r\n    try {\r\n        const {data} = await axios({\r\n            method: \"post\",\r\n            url: `/video`,\r\n            data:  post \r\n        });\r\n        dispatch({\r\n            type: VIDEOCREATE,\r\n            payload: data\r\n        })\r\n    } catch (error) {\r\n        console.log(error)\r\n        dispatch({\r\n            type: VIDEOCREATE,\r\n            payload: {\r\n                error: error.response,\r\n            }\r\n\r\n        })\r\n    }\r\n}\r\n\r\nexport const allVideo = () => async dispatch => {\r\n    try {\r\n        const { data } = await axios(`/video/all`);\r\n        dispatch({\r\n            type: ALLVIDEO,\r\n            payload: data\r\n        })\r\n    } catch (error) {\r\n        console.log(error)\r\n\r\n    }\r\n}\r\n\r\nexport const currentVideo = (id) => async dispatch => {\r\n   \r\n    try {\r\n        const { data } = await axios(`/video/${id}`)\r\n        dispatch({\r\n            type: VIDEOPLAYER,\r\n            payload: data\r\n        })\r\n    } catch (error) {\r\n        console.log(error)\r\n        dispatch({\r\n            type: VIDEOPLAYER,\r\n            payload: {\r\n                error: error.response.data.error\r\n            }\r\n        })\r\n\r\n    }\r\n}","import React, { Component } from 'react';\r\nimport TextField from '@material-ui/core/TextField';\r\nimport { videoPost } from '../redux/actions/video';\r\nimport { connect } from 'react-redux';\r\nimport { Button, Card, Grid } from '@material-ui/core';\r\nimport Header from './header';\r\nclass videoDetails extends Component {\r\n    state = {\r\n        videoUrl: \"\",\r\n        title: \"\",\r\n        description: \"\",\r\n        isSubmitting: false\r\n    }\r\n\r\n    handleSubmit = async (e) => {\r\n        e.preventDefault()\r\n        this.setState({ isSubmitting: true });\r\n        // const formData = new FormData();\r\n        // formData.append('file', this.state.file);\r\n        // formData.append('Url', this.state.Url);\r\n        // formData.append('title', this.state.title);\r\n        // formData.append('description', this.state.description);\r\n        // console.log(formData)\r\n        await this.props.videoPost(this.state)\r\n        this.setState({ isSubmitting: false });\r\n        if (!this.props.videoPost.error) {\r\n            this.props.history.push('/#/');\r\n        }\r\n\r\n    }\r\n    handleChange = (event) => {\r\n       // console.log(event.target.name, event.target.value);\r\n        this.setState({\r\n            [event.target.name]: event.target.value\r\n        });\r\n    }\r\n    render() {\r\n        return (\r\n            <div>\r\n                <Header />\r\n                <form onSubmit={this.handleSubmit}>\r\n                    <Card className=\"post-video-form\">\r\n                        <Grid container direction=\"column\" justify=\"center\" alignItems=\"center\">\r\n                            <Grid item md={6} sm={12}>\r\n                                <TextField\r\n                                    variant=\"outlined\"\r\n                                    margin=\"normal\"\r\n                                    required\r\n                                    fullWidth\r\n                                    id=\"videoUrl\"\r\n                                    label=\"Url\"\r\n                                    name=\"videoUrl\"\r\n                                    autoComplete=\"Url\"\r\n                                    value={this.state.videoUrl}\r\n                                    onChange={this.handleChange}\r\n                                />\r\n                            </Grid>\r\n                            <Grid item md={6} sm={12}>\r\n                                <TextField\r\n                                    variant=\"outlined\"\r\n                                    margin=\"normal\"\r\n                                    required\r\n                                    fullWidth\r\n                                    id=\"Title\"\r\n                                    label=\"Title\"\r\n                                    name=\"title\"\r\n                                    autoComplete=\"Title\"\r\n                                    value={this.state.title}\r\n                                    onChange={this.handleChange}\r\n                                />\r\n                            </Grid>\r\n                            <Grid item md={6} sm={12}>\r\n                                <TextField\r\n                                    variant=\"outlined\"\r\n                                    margin=\"normal\"\r\n                                    required\r\n                                    fullWidth\r\n                                    id=\"description\"\r\n                                    label=\"description\"\r\n                                    name=\"description\"\r\n                                    autoComplete=\"description\"\r\n                                    value={this.state.description}\r\n                                    onChange={this.handleChange}\r\n                                />\r\n                            </Grid>\r\n                            <Grid item md={6} sm={12}>\r\n                                <Button\r\n                                    type=\"submit\"\r\n                                    fullWidth\r\n                                    variant=\"contained\"\r\n                                    color=\"primary\"\r\n                                    disabled={this.state.isSubmitting}\r\n                                >\r\n                                    Post\r\n                            </Button>\r\n                            </Grid>\r\n                        </Grid>\r\n                    </Card>\r\n                </form>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n    return {\r\n        posts: state.postReducer\r\n    }\r\n}\r\n\r\nexport default connect(mapStateToProps, { videoPost })(videoDetails);","import React, { Component } from 'react';\r\nimport Header from './header';\r\nimport { currentVideo } from '../redux/actions/video';\r\nimport { connect } from 'react-redux';\r\n\r\nclass videoDetail extends Component {\r\n    async componentDidMount() {\r\n        await this.props.currentVideo(this.props.match.params.id);\r\n        console.log(this.props.Video);\r\n    }\r\n    render() {\r\n        return (\r\n            <div>\r\n                <Header />\r\n                {this.props.Video ?\r\n                    <div style={{ margin: \"30px\" }}>\r\n                        <video controls width=\"100%\" height=\"500\" src={this.props.Video.videoUrl}>\r\n                        </video>\r\n                        <h2 style={{ textAlign: \"center\" }}>\r\n                            {this.props.Video.title}\r\n                        </h2>\r\n                    </div>\r\n                    : <h1>loading video...</h1>\r\n                }\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n    console.log(state)\r\n    return {\r\n        Video: state.videoReducer.currentPost\r\n    }\r\n}\r\n\r\nexport default connect(mapStateToProps, { currentVideo })(videoDetail);","import React, { Component } from 'react';\r\nimport Register from './components/register';\r\nimport Login from './components/login';\r\nimport Home from './components/home';\r\nimport postVideo from './components/postVideo';\r\nimport videoDetail from './components/videoDetail';\r\nimport { HashRouter, Route } from 'react-router-dom';\r\n\r\nclass App extends Component {\r\n    render() {\r\n        return (\r\n            <div>\r\n                <HashRouter>\r\n                    <Route path=\"/\" component={Home} exact />\r\n                    <Route path=\"/login\" component={Login} exact />\r\n                    <Route path=\"/register\" component={Register} exact />\r\n                    <Route path=\"/post\" component={postVideo} exact />\r\n                    <Route path=\"/post/:id\" component={videoDetail} exact />\r\n                </HashRouter>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default App;","import { REGISTER, LOGIN, LOGOUT, BUYVIDEO } from '../type';\r\nconst initalstate = {\r\n    user: localStorage.getItem('user') ? JSON.parse(localStorage.getItem('user')) : null,\r\n    isAuthenticated: localStorage.getItem(\"isAuth\") || false,\r\n    info: null,\r\n    error: null,\r\n    users: null\r\n}\r\n\r\n\r\nconst userReducer = (state = initalstate, action) => {\r\n    const { type, payload } = action;\r\n    switch (type) {\r\n        case REGISTER:\r\n            const newState = Object.assign(state, payload);\r\n            //console.log(newState)\r\n            return newState;\r\n        case LOGIN:\r\n            if (payload.user) {\r\n                localStorage.setItem('user', JSON.stringify(payload.user));\r\n                localStorage.setItem('isAuth', true);\r\n            }\r\n            return Object.assign(state, payload);\r\n        case LOGOUT:\r\n            localStorage.removeItem(\"user\")\r\n            localStorage.removeItem(\"isAuth\")\r\n            return { ...state, user: null, isAuthenticated: false }\r\n        case BUYVIDEO:\r\n            const user = { ...state.user };\r\n            user.myVideos = user.myVideos || [];\r\n            if (action.payload.videoId) {\r\n                user.myVideos.push(action.payload.videoId)\r\n            }\r\n            localStorage.setItem('user', JSON.stringify(user));\r\n            return { ...state, user };\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\nexport default userReducer;\r\n","import { ALLVIDEO, VIDEOPLAYER, VIDEOCREATE } from '../type';\r\n\r\nconst initalstate = {\r\n    posts: null,\r\n    currentPost: null\r\n}\r\n\r\nconst videoReducer = (state = initalstate, action) => {\r\n    const { type, payload } = action;\r\n    switch (type) {\r\n        case ALLVIDEO:\r\n            return { ...state, posts: payload }\r\n        case VIDEOCREATE:\r\n            const posts =state.posts ?  [...state.posts, payload] :[payload];\r\n            return {\r\n                ...state, posts\r\n            }\r\n        case VIDEOPLAYER:\r\n            return { ...state, currentPost: payload }\r\n\r\n        default:\r\n            return state;\r\n\r\n    }\r\n}\r\n\r\nexport default videoReducer;","import { createStore, combineReducers, applyMiddleware } from \"redux\";\r\nimport userReducer from \"./reducer/user\";\r\nimport thunk from 'redux-thunk';\r\nimport videoReducer from './reducer/video';\r\nconst rootReducer = combineReducers({ userState: userReducer, videoReducer })\r\nconst store = createStore(rootReducer, applyMiddleware(thunk));\r\n\r\nexport default store;","import React from 'react';\r\nimport ReactDom from 'react-dom';\r\nimport App from './app';\r\nimport store from './redux/store';\r\nimport { Provider } from 'react-redux';\r\nimport './style/style.css';\r\n\r\nReactDom.render(\r\n<Provider store={store}>\r\n    <App />\r\n</Provider>, document.getElementById('root'));"],"sourceRoot":""}